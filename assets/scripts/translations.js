const translation = {
  en: {
    navbar: {
      home: 'Home',
      feature: 'Feature',
      about: 'About Us',
      plans: 'Plans',
      testimonials: 'Testimonials',
      faq: 'FAQ',
      getstarted: 'Get started'
    },
    hero: {
      title: 'Welcome to Rutana',
      subtitle: '-Present by Qoritech-',
      description: 'Planing, delegating and report!\nOur platform helps your company with planing the best routes, simplify the rol assignment and get a full report of the whole situation.\nGet on the rode and make your company the fastest there is!',
      btnStart: 'Try free trial'
    },
    services: {
      title: 'Meet our value',
      subtitle: 'Take the stress out of your business',
      cards: {
        '1': {
          title: 'Smart Route Management',
          description: 'Optimize delivery routes in real-time using advanced algorithms that consider traffic, distance, and delivery priorities.'
        },
        '2': {
          title: 'Tracking',
          description: 'Real-time GPS tracking and monitoring of all your delivery vehicles and packages with live updates.'
        },
        '3': {
          title: 'Instant Communications',
          description: 'Seamless communication between drivers, dispatchers, and customers through our integrated messaging system.'
        }
      }
    },
    aboutUS: {
      title: 'About Us',
      cards: {
        help: {
          title: 'How We Help',
          text: 'We empower transport companies and drivers with a smart, easy-to-use platform that simplifies logistics, ensures real-time visibility, and improves communication with clients. Our app reduces inefficiencies, saves time, and builds trust through transparent operation'
        },
        mission: {
          title: "Mission & Vision",
          text: "Our mission is to simplify and optimize transportation by providing drivers and companies with efficient, transparent, and reliable digital tools. With the vision of becoming the leading transportation ecosystem in Latin America, we aim to connect people, businesses, and products through innovative, technology-driven solutions."
        },
        value: {
          title: "Value Proposition",
          text: "Our value lies in delivering smarter logistics, real-time visibility, and cost savings, while strengthening trust and efficiency across the entire supply chain. We help transporters and companies streamline their operations, reduce complexity, and ensure seamless communication with clients."
        }
      }
    },
    team: {
      title: "Our Team",
      description: "Learn more about our partners",
      role: '- Software Engineer -',
      julio: "Jesús Castillo",
      gabriela: "Yaku Guzmán",
      jahaziel: "Christopher Costa",
      williams: "Ingrid Medina",
      yaku: "Santiago Gordillo"
    },
    pLans: {
      title: "Choose Your Plan",
      description: "Rutana has the right plan for you.",
      cards: {
        free: {
          title: "Our budget-friendly service",
          text: "$0/month",
          features: [
            "Limit 10 users",
            "Basic route management",
            "Real-time tracking",
            "Email support"
          ],
          btnstarted: 'Get started'
        },
        professional: {
          title: "Professional Plan",
          text: "$50/month",
          features: [
            "50 users available",
            "All features from Free Plan",
            "Detailed reports",
            "Priority customer support"
          ],
          btnstarted: 'Get started'
        },
        enterprise: {
          title: "Enterprise Plan",
          text: "Contact us",
          features: [
            "Users according to your needs",
            "All features",
            "Dedicated account manager",
            "Premium support"
          ],
          btnstarted: 'Get started'
        }
      }
    },
    testimonials: {
      title: 'Testimonials',
      description: 'Hear what our users say about how Restock has transformed their business, helping them manage inventory smarter and reach their goals with greater peace of mind and confidence.',
      cards: {
        '1': {
          comment: '"As a driver, I can focus on th road instead of worrying about planning. Everything is mapped out for me."',
          name: 'David R., Driver'
        },
        '2': {
          comment: '"Simple. smart, and efficient. Exactly what our transport business needed."',
          name: 'Emily P., Manager'
        }
      }
    },
    faq: {
      title: 'Frequently Asked Questions (FAQs)',
      subtitle: 'FAQ Forum',
      items: {
        '1': {
          question: 'What is Rutana?',
          answer: 'Rutana is a digital platform designed to help transportation companies and drivers manage routes, vehicles, and teams more efficiently. It simplifies daily operations by providing clear assignments, real-time updates, and a user-friendly interface.'
        },
        '2': {
          question: 'Who can benefit from using Rutana?',
          answer: 'Rutana is built for logistics companies, fleet managers, and transport operators who need to organize routes, assign vehicles and drivers, and keep track of operations with better visibility and control.'
        },
        '3': {
          question: 'Do I need technical knowledge to use Rutana?',
          answer: 'Not at all. Rutana is designed with simplicity in mind. The platform provides an intuitive dashboard where admins can set up teams and vehicles, while drivers can easily access their daily assignments.'
        },
        '4': {
          question: 'Can I use Rutana on mobile devices?',
          answer: "Yes. Rutana's landing page and web app are fully responsive, so you can access the platform on desktops, tablets, and smartphones without losing functionality."
        },
        '5': {
          question: 'How does Rutana help my business grow?',
          answer: 'By streamlining route planning, improving communication between admins and drivers, and keeping reliable historical records, Rutana reduces operational errors, saves time, and ensures that your logistics processes scale with your business needs.'
        }
      }
    },
    enganche: {
    title: "Change begins with a smarter route.",
    subtitle: "Write to us and discover how Rutana can optimize your routes, your time, and your results.",
    contact: {
      email: "contact@qoritech.com",
      whatsapp: "WhatsApp",
      linkedin: "LinkedIn"
    }
    },
    footer: {
      topLeftText: 'We make a better workspace around the world',
      sectionsTitle: 'Useful Links',
      sections: {
        home: 'Home',
        feature: 'Feature',
        about: 'About Us',
        plans: 'Plans',
        testimonials: 'Testimonials',
        faq: 'FAQ'
      },
      socialTitle: 'Social Networking',
      social: {
        facebook: '@Rutana',
        instagram: '@Rutana',
        twitter: '@Rutana',
        linkedin: '@Rutana'
      },
      bottom: {
        privacyPolicy: 'Privacy Policy',
        terms: 'Terms of Services',
        rights: '©2025 Qoritech LLC.'
      }
    },
    terms: {
  title: 'Terms of Service – Rutana',
  lastUpdated: 'Last updated: October 2025',
  welcome: 'Welcome to Rutana',
  description: 'A platform developed by QoriTech to help manage fleets, routes, and delivery incidents efficiently. By accessing or using our service, you agree to comply with these Terms of Service. If you do not agree, please do not use the platform.',
  sections: {
    serviceUse: {
      title: 'Service Use',
      text: 'Rutana provides digital tools for managing vehicles, assigning routes, and recording deliveries or incidents. Users agree to use the service solely for lawful business operations.'
    },
    accountsSecurity: {
      title: 'Accounts and Security',
      text: 'To access key features, an account is required. Users are responsible for maintaining the confidentiality of their credentials and any activity performed under their account. QoriTech will not be liable for misuse or loss of access due to shared credentials.'
    },
    licenseUse: {
      title: 'License of Use',
      text: 'QoriTech grants a limited, non-exclusive, and revocable license to access and use Rutana. Users may not modify, distribute, copy, or reverse-engineer the software without prior authorization.'
    },
    intellectualProperty: {
      title: 'Intellectual Property',
      text: 'All content, design, source code, and materials related to Rutana are owned by QoriTech. Reproduction or redistribution without permission is strictly prohibited.'
    },
    availabilityMaintenance: {
      title: 'Availability and Maintenance',
      text: 'QoriTech reserves the right to temporarily suspend services for maintenance or updates. Users will be notified in advance whenever possible.'
    },
    limitationLiability: {
      title: 'Limitation of Liability',
      text: 'Rutana is provided “as is” without guarantees of uninterrupted availability. QoriTech shall not be held liable for data loss, service interruptions, or indirect damages arising from platform use.'
    },
    modifications: {
      title: 'Modifications',
      text: 'We may update these terms at any time. Changes become effective once published on our official site.'
    },
    contact: {
      title: 'Contact',
      text: 'For any questions regarding these terms, contact us at: contact@qoritech.com'
    }
  }
    },
    privacy: {
  title: 'Privacy Policy – Rutana',
  lastUpdated: 'Last updated: October 2025',
  welcome: 'Your Privacy Matters to Us.',
  description: 'At QoriTech, we respect your privacy and protect your personal data. This policy describes how we collect, use, and safeguard the information of Rutana users.',
  sections: {
    informationCollected: {
      title: 'Information Collected',
      text: 'We collect data necessary for the system’s operation, including: Account information (name, email, encrypted password). Fleet and route data (vehicles, locations, delivery statuses). Technical information (IP address, device, and browser).'
    },
    informationUse: {
      title: 'Use of Information',
      text: 'The information is used for: Operating, maintaining, and improving the service. Personalizing the user experience. Analyzing metrics and generating performance reports. Administrative communications and technical support.'
    },
    informationProtection: {
      title: 'Protection of Information',
      text: 'We apply technical and organizational security measures to prevent unauthorized access, loss, or misuse of data.'
    },
    dataSharing: {
      title: 'Data Sharing',
      text: 'We do not sell or share personal information with third parties, except when necessary for the service’s operation (e.g., cloud providers or notifications).'
    },
    userRights: {
      title: 'User Rights',
      text: 'Users may request access, correction, or deletion of their personal data by contacting us at privacy@qoritech.com.'
    },
    dataRetention: {
      title: 'Data Retention',
      text: 'Data will be retained only for as long as necessary for the purposes described or while the account remains active.'
    },
    policyChanges: {
      title: 'Changes to the Policy',
      text: 'We may update this policy periodically. Modifications will be published with the corresponding revision date.'
    }
  }
    }
  },

  es: {
    navbar: {
      home: 'Inicio',
      feature: 'Caracteristicas',
      about: 'Nosotros',
      plans: 'Planes',
      testimonials: 'Testimonios',
      faq: 'Preguntas',
      getstarted: 'Comenzar'
    },
    hero: {
      title: 'Bienvenido a Rutana',
      subtitle: '-Presentado por Qoritech-',
      description: '¡Planificación, delegación e informes!\nNuestra plataforma ayuda a tu empresa a planificar las mejores rutas, simplificar la asignación de roles y obtener un informe completo de toda la situación.\n¡Ponte en marcha y haz que tu empresa sea la más rápida!',
      btnStart: 'Prueba gratuita'
    },
    services: {
      title: 'Conoce nuestro valor',
      subtitle: 'Elimina el estrés de tu negocio',
      cards: {
        '1': {
          title: 'Gestión Inteligente de Rutas',
          description: 'Optimiza las rutas de entrega en tiempo real utilizando algoritmos avanzados que consideran el tráfico, la distancia y las prioridades de entrega.'
        },
        '2': {
          title: 'Seguimiento',
          description: 'Seguimiento y monitoreo GPS en tiempo real de todos tus vehículos de entrega y paquetes con actualizaciones en vivo.'
        },
        '3': {
          title: 'Comunicaciones Instantáneas',
          description: 'Comunicación fluida entre conductores, despachadores y clientes a través de nuestro sistema de mensajería integrado.'
        }
      }
    },
    aboutUS: {
      title: 'Sobre Nosotros',
      cards: {
        help: {
          title: 'Cómo Ayudamos',
          text: 'Empoderamos a las empresas de transporte y a los conductores con una plataforma inteligente y fácil de usar que simplifica la logística, garantiza visibilidad en tiempo real y mejora la comunicación con los clientes. Nuestra app reduce ineficiencias, ahorra tiempo y genera confianza mediante una operación transparente.'
        },
        mission: {
          title: "Misión & Visión",
          text: "Nuestra misión es simplificar y optimizar el transporte proporcionando a conductores y empresas herramientas digitales eficientes, transparentes y confiables. Con la visión de convertirnos en el ecosistema de transporte líder en Latinoamérica, buscamos conectar personas, negocios y productos mediante soluciones innovadoras impulsadas por la tecnología."
        },
        value: {
          title: "Propuesta de Valor",
          text: "Nuestro valor radica en ofrecer logística más inteligente, visibilidad en tiempo real y ahorro de costos, al mismo tiempo que fortalecemos la confianza y la eficiencia en toda la cadena de suministro. Ayudamos a transportistas y empresas a agilizar sus operaciones, reducir la complejidad y asegurar una comunicación fluida con los clientes."
        }
      }
    },
    team: {
      title: "Nuestro Equipo",
      description: "Conoce más sobre nuestros colaboradores",
      role: '- Ingeniero de Software -',
      julio: "Jesús Castillo",
      gabriela: "Yaku Guzmán",
      jahaziel: "Christopher Costa",
      williams: "Ingrid Medina",
      yaku: "Santiago Gordillo"
    },
    pLans: {
      title: "Elige Tu Plan",
      description: "Rutana tiene el plan adecuado para ti.",
      cards: {
        free: {
          title: "Gratis",
          text: "$0/mes",
          features: [
            "Límite de 10 usuarios",
            "Gestión básica de rutas",
            "Seguimiento en tiempo real",
            "Soporte por correo electrónico"
          ],
          btnstarted: 'Empezar'
        },
        professional: {
          title: "Plan Profesional",
          text: "$50/mes",
          features: [
            "50 usuarios disponibles",
            "Todas las funciones del Plan Gratis",
            "Reportes detallados",
            "Soporte prioritario al cliente"
          ],
          btnstarted: 'Empezar'
        },
        enterprise: {
          title: "Plan Empresarial",
          text: "Contáctanos",
          features: [
            "Usuarios según tus necesidades",
            "Todas las funciones",
            "Gerente de cuenta dedicado",
            "Soporte premium"
          ],
          btnstarted: 'Empezar'
        }
      }
    },
    testimonials: {
      title: 'Testimonios',
      description: 'Escucha lo que nuestros usuarios dicen sobre cómo Restock ha transformado su negocio, ayudándolos a gestionar el inventario de manera más inteligente y alcanzar sus objetivos con mayor tranquilidad y confianza.',
      cards: {
        '1': {
          comment: '"Como conductor, puedo concentrarme en la carretera en lugar de preocuparme por la planificación. Todo está mapeado para mí."',
          name: 'David R., Conductor'
        },
        '2': {
          comment: '"Simple, inteligente y eficiente. Exactamente lo que nuestro negocio de transporte necesitaba."',
          name: 'Emily P., Gerente'
        }
      }
    },
    faq: {
      title: 'Preguntas Frecuentes (FAQ)',
      subtitle: 'Foro de Preguntas',
      items: {
        '1': {
          question: '¿Qué es Rutana?',
          answer: 'Rutana es una plataforma digital diseñada para ayudar a las empresas de transporte y conductores a gestionar rutas, vehículos y equipos de manera más eficiente. Simplifica las operaciones diarias proporcionando asignaciones claras, actualizaciones en tiempo real y una interfaz fácil de usar.'
        },
        '2': {
          question: '¿Quién puede beneficiarse de usar Rutana?',
          answer: 'Rutana está diseñada para empresas de logística, gerentes de flota y operadores de transporte que necesitan organizar rutas, asignar vehículos y conductores, y mantener un seguimiento de las operaciones con mejor visibilidad y control.'
        },
        '3': {
          question: '¿Necesito conocimientos técnicos para usar Rutana?',
          answer: 'Para nada. Rutana está diseñada pensando en la simplicidad. La plataforma proporciona un panel intuitivo donde los administradores pueden configurar equipos y vehículos, mientras que los conductores pueden acceder fácilmente a sus asignaciones diarias.'
        },
        '4': {
          question: '¿Puedo usar Rutana en dispositivos móviles?',
          answer: 'Sí. La página de inicio y la aplicación web de Rutana son completamente responsivas, por lo que puedes acceder a la plataforma en computadoras de escritorio, tabletas y smartphones sin perder funcionalidad.'
        },
        '5': {
          question: '¿Cómo ayuda Rutana a hacer crecer mi negocio?',
          answer: 'Al optimizar la planificación de rutas, mejorar la comunicación entre administradores y conductores, y mantener registros históricos confiables, Rutana reduce errores operacionales, ahorra tiempo y asegura que tus procesos logísticos escalen con las necesidades de tu negocio.'
        }
      }
    },
    enganche: {
    title: "El cambio empieza con una ruta más inteligente.",
    subtitle: "Escríbenos y descubre cómo Rutana puede optimizar tus rutas, tu tiempo y tus resultados.",
    contact: {
      email: "contact@qoritech.com",
      whatsapp: "WhatsApp",
      linkedin: "LinkedIn"
    }
    },
    footer: {
      topLeftText: 'Creamos mejores espacios de trabajo alrededor del mundo',
      sectionsTitle: 'Enlaces Útiles',
      sections: {
        home: 'Inicio',
        feature: 'Funcionalidades',
        about: 'Sobre Nosotros',
        plans: 'Planes',
        testimonials: 'Testimonios',
        faq: 'Preguntas Frecuentes'
      },
      socialTitle: 'Redes Sociales',
      social: {
        facebook: '@Rutana',
        instagram: '@Rutana',
        twitter: '@Rutana',
        linkedin: '@Rutana'
      },
      bottom: {
        privacyPolicy: 'Política de Privacidad',
        terms: 'Términos de Servicio',
        rights: '©2025 Qoritech LLC.'
      }
    },
    terms: {
  title: 'Términos de Servicio – Rutana',
  lastUpdated: 'Última actualización: Octubre 2025',
  welcome: 'Bienvenido a Rutana',
  description: 'Una plataforma desarrollada por QoriTech para ayudar a gestionar flotas, rutas e incidentes de entrega de manera eficiente. Al acceder o usar nuestro servicio, aceptas cumplir con estos Términos de Servicio. Si no estás de acuerdo, por favor no utilices la plataforma.',
  sections: {
    serviceUse: {
      title: 'Uso del Servicio',
      text: 'Rutana proporciona herramientas digitales para gestionar vehículos, asignar rutas y registrar entregas o incidentes. Los usuarios acuerdan usar el servicio únicamente para operaciones comerciales legales.'
    },
    accountsSecurity: {
      title: 'Cuentas y Seguridad',
      text: 'Para acceder a funciones clave, se requiere una cuenta. Los usuarios son responsables de mantener la confidencialidad de sus credenciales y de cualquier actividad realizada bajo su cuenta. QoriTech no será responsable por el mal uso o la pérdida de acceso debido a credenciales compartidas.'
    },
    licenseUse: {
      title: 'Licencia de Uso',
      text: 'QoriTech otorga una licencia limitada, no exclusiva y revocable para acceder y usar Rutana. Los usuarios no pueden modificar, distribuir, copiar ni realizar ingeniería inversa del software sin autorización previa.'
    },
    intellectualProperty: {
      title: 'Propiedad Intelectual',
      text: 'Todo el contenido, diseño, código fuente y materiales relacionados con Rutana son propiedad de QoriTech. La reproducción o redistribución sin permiso está estrictamente prohibida.'
    },
    availabilityMaintenance: {
      title: 'Disponibilidad y Mantenimiento',
      text: 'QoriTech se reserva el derecho de suspender temporalmente los servicios para mantenimiento o actualizaciones. Los usuarios serán notificados con anticipación siempre que sea posible.'
    },
    limitationLiability: {
      title: 'Limitación de Responsabilidad',
      text: 'Rutana se proporciona "tal cual" sin garantías de disponibilidad ininterrumpida. QoriTech no será responsable por pérdida de datos, interrupciones del servicio o daños indirectos derivados del uso de la plataforma.'
    },
    modifications: {
      title: 'Modificaciones',
      text: 'Podemos actualizar estos términos en cualquier momento. Los cambios entrarán en vigor una vez publicados en nuestro sitio oficial.'
    },
    contact: {
      title: 'Contacto',
      text: 'Para cualquier pregunta sobre estos términos, contáctenos en: contact@qoritech.com'
    }
    }
    },
    privacy: {
  title: 'Política de Privacidad – Rutana',
  lastUpdated: 'Última actualización: Octubre 2025',
  welcome: 'Tu privacidad nos importa.',
  description: 'En QoriTech, respetamos su privacidad y protegemos sus datos personales. Esta política describe cómo recopilamos, usamos y protegemos la información de los usuarios de Rutana.',
  sections: {
    informationCollected: {
      title: 'Información recopilada',
      text: 'Recopilamos datos necesarios para el funcionamiento del sistema, incluyendo: Información de cuenta (nombre, correo, contraseña cifrada). Datos de flota y rutas (vehículos, ubicaciones, estados de entrega). Información técnica (dirección IP, dispositivo y navegador).'
    },
    informationUse: {
      title: 'Uso de la información',
      text: 'La información se utiliza para: Operar, mantener y mejorar el servicio. Personalizar la experiencia del usuario. Analizar métricas y generar reportes de desempeño. Comunicaciones administrativas y soporte técnico.'
    },
    informationProtection: {
      title: 'Protección de la información',
      text: 'Aplicamos medidas de seguridad técnicas y organizativas para prevenir accesos no autorizados, pérdida o uso indebido de los datos.'
    },
    dataSharing: {
      title: 'Compartición de datos',
      text: 'No vendemos ni compartimos información personal con terceros, excepto cuando sea necesario para el funcionamiento del servicio (por ejemplo, proveedores de nube o notificaciones).'
    },
    userRights: {
      title: 'Derechos del usuario',
      text: 'Los usuarios pueden solicitar acceso, corrección o eliminación de sus datos personales contactándonos en privacy@qoritech.com.'
    },
    dataRetention: {
      title: 'Retención de datos',
      text: 'Los datos se conservarán solo durante el tiempo necesario para los fines descritos o mientras la cuenta esté activa.'
    },
    policyChanges: {
      title: 'Cambios en la política',
      text: 'Podemos actualizar esta política periódicamente. Las modificaciones serán publicadas con la fecha de revisión correspondiente.'
    }
  }
    }
  }
};

// --- util: obtener traducción usando claves anidadas como "feature.cards.free.title"
function getNestedTranslation(obj, key) {
  if (!obj || !key) return undefined;
  return key.split('.').reduce((acc, k) => (acc !== undefined ? acc[k] : undefined), obj);
}

// --- aplica traducción al elemento
function applyTranslationToElement(el, value) {
  if (value === undefined || value === null) return;

  // arrays -> si es UL/OL, renderizamos <li>, si no, los unimos por coma
  if (Array.isArray(value)) {
    if (el.tagName === 'UL' || el.tagName === 'OL') {
      el.innerHTML = value.map(item => `<li>${item}</li>`).join('');
    } else {
      el.textContent = value.join(', ');
    }
    return;
  }

  // objetos -> preferimos mostrar .title o .text si existen
  if (typeof value === 'object') {
    if (value.title) el.textContent = value.title;
    else if (value.text) el.textContent = value.text;
    else el.textContent = JSON.stringify(value);
    return;
  }

  // strings / numbers
  // Solo para H2, H3 o P dejamos HTML (para <span> o <b>)
  if (el.tagName === 'H2' || el.tagName === 'H3' || el.tagName === 'P') {
    el.innerHTML = value;
  } else {
    // aquí nos aseguramos de no tocar spans de material-icons
    if (!el.classList.contains('material-icons')) {
      el.textContent = value;
    }
  }
}

// --- Lógica principal de traducción
let currentLang = localStorage.getItem('lang') || 'en';

function translatePage(lang) {
  const root = translation[lang];
  if (!root) {
    console.warn('Language not found:', lang);
    return;
  }

  document.querySelectorAll('[data-i18n]').forEach((el) => {
    const key = el.getAttribute('data-i18n'); // e.g. "contact.title"
    const value = getNestedTranslation(root, key);

    if (value !== undefined) {
      // si es input o textarea con placeholder
      if ((el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') && el.placeholder !== undefined) {
        el.placeholder = typeof value === 'string' ? value : String(value);
      } else {
        applyTranslationToElement(el, value);
      }
    }
  });

  document.documentElement.lang = lang;
  console.log('Language switched to', lang);
}

// --- función auxiliar para el estado visual del botón
function updateButtonState(lang) {
  document.querySelectorAll('#language-switcher .lang-btn').forEach(btn => {
    const isActive = btn.dataset.lang === lang;
    btn.classList.toggle('active', isActive);
  });
}

// --- evento de cambio de idioma
document.querySelectorAll('#language-switcher .lang-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const selectedLang = btn.dataset.lang;
    if (selectedLang && selectedLang !== currentLang) {
      currentLang = selectedLang;
      localStorage.setItem('lang', currentLang);
      translatePage(currentLang);
      updateButtonState(currentLang);
    }
  });
});

onload = () =>{
    document.body.classList.remove("container");
};

// --- Inicialización al cargar
translatePage(currentLang);
updateButtonState(currentLang);